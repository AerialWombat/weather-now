(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports={dataPoint:"DataDisplay_dataPoint__gt1KI",icon:"DataDisplay_icon__1fBuc",label:"DataDisplay_label__d-unt"}},11:function(e,a,t){e.exports={wrapper:"SideCard_wrapper__22iC2",summary:"SideCard_summary__39KI-",icon:"SideCard_icon__csdyH",sunny:"SideCard_sunny__2505N",night:"SideCard_night__3pFIk",rain:"SideCard_rain__1t4Nb",winter:"SideCard_winter__3qm2W",windy:"SideCard_windy__zYuag",fog:"SideCard_fog__3vYFH",cloudy:"SideCard_cloudy__1dgSa"}},16:function(e,a,t){},20:function(e,a,t){e.exports=t(44)},3:function(e,a,t){e.exports={wrapper:"MainCard_wrapper__1M0J8",mainIcon:"MainCard_mainIcon__1NV2Z",currentTemp:"MainCard_currentTemp__RABpG",summary:"MainCard_summary__2T9sU",info:"MainCard_info__1Mr3Q",sunny:"MainCard_sunny__TN8Ek",night:"MainCard_night__3K9B8",rain:"MainCard_rain__3MDRB",winter:"MainCard_winter__2BKiR",windy:"MainCard_windy__3XXU6",fog:"MainCard_fog__1RV_H",cloudy:"MainCard_cloudy__3WaSI"}},4:function(e,a,t){e.exports={App:"App_App__A_yVA","bg-image":"App_bg-image__1uzf-",sideCardContainer:"App_sideCardContainer__1_-SY",defaultView:"App_defaultView__33y2Z",sunny:"App_sunny__1Mul5",night:"App_night__nOw1K",rain:"App_rain__2tW-F",winter:"App_winter__cbI-s",windy:"App_windy__12bTW",fog:"App_fog__27Pkc",cloudy:"App_cloudy__2XXsD"}},42:function(e,a,t){e.exports=t.p+"static/media/darksky.6a802cb1.png"},44:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(5),c=t.n(i),o=t(17),l=t(13),s=t(14),u=t(18),d=t(15),m=t(19),p=t(8),h=t.n(p),_=t(9),y=t.n(_),g=function(e){var a=e.searchChange,t=e.searchSubmit;return r.a.createElement("form",{className:y.a.searchBar,onSubmit:t},r.a.createElement("input",{className:y.a.search,type:"text",placeholder:"City, State",onChange:a}),r.a.createElement("input",{className:y.a.submit,type:"submit",value:"Search"}))},w=function(e){var a=e.location,t=e.unit,n=e.searchChange,i=e.searchSubmit,c=e.toggleUnit;return r.a.createElement("header",null,r.a.createElement("h1",{className:h.a.title},"Weather Now"),r.a.createElement("h3",{className:h.a.subtitle},a.name),r.a.createElement(g,{searchChange:n,searchSubmit:i}),r.a.createElement("button",{className:h.a.toggle,onClick:c},"si"===t?"F":"C","\xb0"))},f=t(6),b=t.n(f),C=t(10),E=t.n(C),S=function(e){var a=e.icon,t=e.label,n=e.value,i=e.unit,c="";switch(a){case"thermometer":case"thermometer-exterior":c="si"===i?"\xb0C":"\xb0F";break;case"raindrop":c="%";break;case"strong-wind":c="si"===i?"m/s":"mph"}return r.a.createElement("div",{className:E.a.dataPoint},r.a.createElement("i",{className:"wi wi-".concat(a," ").concat(E.a.icon)}),r.a.createElement("span",null,r.a.createElement("p",null,n,c),r.a.createElement("p",{className:E.a.label},t)))},T=t(7),v=t(2),M=t.n(v),N=t(3),k=t.n(N),W=function(e){var a=e.unit,t=e.weather,n=t.summary,i=t.icon,c=t.windSpeed,o=t.precipChance,l=t.currentTemp,s=t.highTemp,u=t.lowTemp,d=M.a.bind(k.a)({wrapper:!0,sunny:"clear-day"===i,night:"clear-night"===i,rain:"rain"===i,winter:"snow"===i||"sleet"===i,windy:"wind"===i,fog:"fog"===i,cloudy:"cloudy"===i||"partly-cloudy-day"===i||"partly-cloudy-night"===i});return r.a.createElement(T.a,{from:{opacity:0,marginRight:300,marginLeft:-300},to:{opacity:1,marginRight:0,marginLeft:0},config:{duration:500}},function(e){return r.a.createElement("div",{style:e,className:d},r.a.createElement(b.a,{className:k.a.mainIcon,name:"darksky",iconId:i}),r.a.createElement("h1",{className:k.a.currentTemp},l,"si"===a?"\xb0C":"\xb0F"),r.a.createElement("h3",{className:k.a.summary},n),r.a.createElement("div",{className:k.a.info},r.a.createElement(S,{icon:"thermometer",label:"High",value:s,unit:a}),r.a.createElement(S,{icon:"thermometer-exterior",label:"Low",value:u,unit:a}),r.a.createElement(S,{icon:"strong-wind",label:"Wind",value:c,unit:a}),r.a.createElement(S,{icon:"raindrop",label:"Rain",value:o,unit:a})))})},D=t(11),A=t.n(D),x=function(e){var a=e.unit,t=e.weather,n=t.day,i=t.icon,c=t.precipChance,o=t.highTemp,l=t.lowTemp,s=M.a.bind(A.a)({wrapper:!0,sunny:"clear-day"===i,night:"clear-night"===i,rain:"rain"===i,winter:"snow"===i||"sleet"===i,windy:"wind"===i,fog:"fog"===i,cloudy:"cloudy"===i||"partly-cloudy-day"===i||"partly-cloudy-night"===i});return r.a.createElement(T.a,{from:{opacity:0,marginRight:-300,marginLeft:300},to:{opacity:1,marginRight:0,marginLeft:0},config:{duration:500}},function(e){return r.a.createElement("div",{style:e,className:s},r.a.createElement("div",{className:A.a.summary},r.a.createElement(b.a,{name:"darksky",iconId:i,className:A.a.icon}),r.a.createElement("p",null,n)),r.a.createElement(S,{icon:"thermometer",label:"High",value:o,unit:a}),r.a.createElement(S,{icon:"thermometer-exterior",label:"Low",value:l,unit:a}),r.a.createElement(S,{icon:"raindrop",label:"Rain",value:c,unit:a}))})},B=t(16),H=t.n(B),P=function(){return r.a.createElement("footer",null,r.a.createElement("a",{href:"https://darksky.net/poweredby/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:t(42),alt:"Powered by Dark Sky",className:H.a.attribution})," "))},I=t(4),O=t.n(I),j="2606ebfb674e627733ad90d0f6c1745d",L="c15d0a0445d54d403bca5a6afd55191db33bc3d",R=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(u.a)(this,Object(d.a)(a).call(this))).componentDidMount=function(){console.log("App component mounted"),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(a){e.setState({location:{latitude:a.coords.latitude,longitude:a.coords.longitude}}),e.getWeather(a.coords.latitude,a.coords.longitude,e.state.unit),fetch("https://cors-anywhere.herokuapp.com/https://api.geocod.io/v1.3/reverse?q=".concat(a.coords.latitude,",").concat(a.coords.longitude,"&api_key=").concat(L)).then(function(a){return a.json().then(function(a){e.setState({location:Object(o.a)({},e.state.location,{name:"".concat(a.results[0].address_components.city,", ").concat(a.results[0].address_components.state)})})})})}):console.log("Geolocation is not available")},e.getDay=function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}},e.getCoord=function(e){return new Promise(function(a,t){fetch("https://api.geocod.io/v1.3/geocode?q=".concat(e,"&api_key=c15d0a0445d54d403bca5a6afd55191db33bc3d")).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return t(e)})})},e.getWeather=function(a,t,n){fetch("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat(j,"/").concat(a,",").concat(t,"?units=").concat(n,"&exclude=minutely,hourly,alerts,flags"),{method:"GET",headers:{"Access-Control-Allow-Origin":"*"}}).then(function(a){return a.json().then(function(a){var t=a.currently,n=a.daily;e.setState({currentWeather:{summary:t.summary,icon:t.icon,windSpeed:t.windSpeed,precipChance:Math.round(100*t.precipProbability),currentTemp:Math.round(t.temperature),highTemp:Math.round(n.data[0].temperatureHigh),lowTemp:Math.round(n.data[0].temperatureLow)},dayOneWeather:{day:e.getDay(new Date(1e3*n.data[1].time).getDay()),icon:n.data[1].icon,precipChance:Math.round(100*n.data[1].precipProbability),highTemp:Math.round(n.data[1].temperatureHigh),lowTemp:Math.round(n.data[1].temperatureLow)},dayTwoWeather:{day:e.getDay(new Date(1e3*n.data[2].time).getDay()),icon:n.data[2].icon,precipChance:Math.round(100*n.data[2].precipProbability),highTemp:Math.round(n.data[2].temperatureHigh),lowTemp:Math.round(n.data[2].temperatureLow)},dayThreeWeather:{day:e.getDay(new Date(1e3*n.data[3].time).getDay()),icon:n.data[3].icon,precipChance:Math.round(100*n.data[3].precipProbability),highTemp:Math.round(n.data[3].temperatureHigh),lowTemp:Math.round(n.data[3].temperatureLow)}})})}).catch(function(e){return console.log(e)})},e.searchChange=function(a){e.setState({searchQuery:a.target.value})},e.searchSubmit=function(a){e.getCoord(e.state.searchQuery).then(function(a){e.getWeather(a.results[0].location.lat,a.results[0].location.lng,e.state.unit),e.setState({location:{latitude:a.results[0].location.lat,longitude:a.results[0].location.lng,name:"".concat(a.results[0].address_components.city?a.results[0].address_components.city+",":"","\n          ").concat(a.results[0].address_components.state?a.results[0].address_components.state:"")}})}).catch(function(a){console.log(a),e.setState({location:{name:"Error retrieving data"}})}),a.preventDefault()},e.toggleUnit=function(){e.setState({unit:"si"===e.state.unit?"us":"si"},function(){e.getWeather(e.state.location.latitude,e.state.location.longitude,e.state.unit)})},e.state={unit:"si",searchQuery:"",location:{latitude:0,longitude:0,name:""},currentWeather:{summary:"",icon:"clear-day",windSpeed:0,precipChance:0,currentTemp:0,highTemp:0,lowTemp:0},dayOneWeather:{day:"",icon:"cloudy",precipChance:0,highTemp:0,lowTemp:0},dayTwoWeather:{day:"",icon:"cloudy",precipChance:0,highTemp:0,lowTemp:0},dayThreeWeather:{day:"",icon:"cloudy",precipChance:0,highTemp:0,lowTemp:0}},e}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.unit,t=e.location,n=e.currentWeather,i=e.dayOneWeather,c=e.dayTwoWeather,o=e.dayThreeWeather,l=M.a.bind(O.a)({"bg-image":!0,sunny:"clear-day"===n.icon,night:"clear-night"===n.icon,rain:"rain"===n.icon,winter:"snow"===n.icon||"sleet"===n.icon,windy:"wind"===n.icon,fog:"fog"===n.icon,cloudy:"cloudy"===n.icon||"partly-cloudy-day"===n.icon||"partly-cloudy-night"===n.icon});return r.a.createElement("div",{className:O.a.App},r.a.createElement("div",{className:l}),r.a.createElement(w,{location:t,unit:a,searchChange:this.searchChange,searchSubmit:this.searchSubmit,toggleUnit:this.toggleUnit}),t.name?r.a.createElement("main",null,r.a.createElement(W,{unit:a,weather:n}),r.a.createElement("div",{className:O.a.sideCardContainer},r.a.createElement(x,{unit:a,weather:i}),r.a.createElement(x,{unit:a,weather:c}),r.a.createElement(x,{unit:a,weather:o}))):r.a.createElement("h1",{className:O.a.defaultView},"Enter a location"),r.a.createElement(P,null))}}]),a}(n.Component);c.a.render(r.a.createElement(R,null),document.getElementById("root"))},8:function(e,a,t){e.exports={title:"Header_title__1NJg1",subtitle:"Header_subtitle__1tkgS",toggle:"Header_toggle__lYzS4"}},9:function(e,a,t){e.exports={searchBar:"SearchBar_searchBar__3XPj3",search:"SearchBar_search__S7yGd",submit:"SearchBar_submit__1_73q"}}},[[20,2,1]]]);
//# sourceMappingURL=main.7225e553.chunk.js.map